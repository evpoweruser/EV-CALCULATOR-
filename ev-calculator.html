<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>EV vs Fuel Vehicle Calculator</title>
    <style>
        :root {
            --primary: #2ecc71;
            --secondary: #3498db;
            --background: #f8f9fa;
            --text: #2c3e50;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 2rem auto;
            padding: 0 1rem;
            background-color: var(--background);
            color: var(--text);
        }

        .calculator {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .input-group {
            margin: 1.5rem 0;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        input, select {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
        }

        button {
            background: var(--primary);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            width: 100%;
            margin-top: 1rem;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .vehicle-card {
            padding: 1.5rem;
            border-radius: 8px;
            background: var(--background);
        }

        .eco-badge {
            background: #e8f5e9;
            color: #2ecc71;
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
            margin-top: 1rem;
        }
    </style>
</head>
<body>
    <div class="calculator">
        <h1>ðŸ”‹âš¡ Fuel vs EV Calculator</h1>
        
        <div class="input-group">
            <div>
                <label for="kmInput">Monthly Distance (km)</label>
                <input type="number" id="kmInput" value="1000" min="1">
            </div>
            
            <div>
                <label for="countrySelect">Region</label>
                <select id="countrySelect">
                    <option value="TN">Tamil Nadu</option>
                    <option value="IN">India</option>
                    <option value="US">USA</option>
                    <option value="DE">Germany</option>
                </select>
            </div>
        </div>

        <div class="input-group">
            <div>
                <label for="evEfficiency">EV Efficiency (Wh/km)</label>
                <input type="number" id="evEfficiency" value="150" min="50" max="300">
            </div>
            
            <div>
                <label for="elecCost">Electricity Cost (â‚¹/kWh)</label>
                <input type="number" id="elecCost" step="0.1" value="6.0">
            </div>
        </div>

        <div class="input-group">
            <div>
                <label for="petrolEfficiency">Petrol Vehicle (km/l)</label>
                <input type="number" id="petrolEfficiency" value="12" min="5" max="25">
            </div>
            
            <div>
                <label for="dieselEfficiency">Diesel Vehicle (km/l)</label>
                <input type="number" id="dieselEfficiency" value="14" min="5" max="25">
            </div>
        </div>

        <button onclick="calculate()">Calculate Comparison</button>

        <div id="results" style="display: none;">
            <div class="comparison-grid">
                <div class="vehicle-card">
                    <h3>âš¡ Electric Vehicle</h3>
                    <div id="evOutput"></div>
                </div>
                
                <div class="vehicle-card">
                    <h3>â›½ Petrol Vehicle</h3>
                    <div id="petrolOutput"></div>
                </div>
                
                <div class="vehicle-card">
                    <h3>â›½ Diesel Vehicle</h3>
                    <div id="dieselOutput"></div>
                </div>
            </div>

            <div class="eco-badge" id="treeImpact"></div>
        </div>
    </div>

    <script>
        const FUEL_PRICES = {
            TN: { diesel: 90, petrol: 100 },
            IN: { diesel: 95, petrol: 105 },
            US: { diesel: 1.2, petrol: 1.3 },
            DE: { diesel: 1.8, petrol: 1.9 }
        };

        const ENERGY_MIX = {
            TN: { fossil: 40, renewable: 50, nuclear: 10 },
            IN: { fossil: 75, renewable: 23, nuclear: 2 },
            US: { fossil: 60, renewable: 21, nuclear: 19 },
            DE: { fossil: 44, renewable: 44, nuclear: 12 }
        };

        const CO2_FACTORS = {
            fossil: 0.475,
            renewable: 0.05
        };

        function calculate() {
            // User inputs
            const km = parseFloat(document.getElementById('kmInput').value);
            const region = document.getElementById('countrySelect').value;
            const whPerKm = parseFloat(document.getElementById('evEfficiency').value);
            const elecCost = parseFloat(document.getElementById('elecCost').value);
            const petrolEff = parseFloat(document.getElementById('petrolEfficiency').value);
            const dieselEff = parseFloat(document.getElementById('dieselEfficiency').value);

            // Calculations
            const kwhPerKm = whPerKm / 1000;
            const evKwh = km * kwhPerKm;
            const mix = ENERGY_MIX[region];
            const co2PerKwh = (mix.fossil * CO2_FACTORS.fossil + mix.renewable * CO2_FACTORS.renewable) / 100;
            const evCo2 = evKwh * co2PerKwh;
            const evCost = evKwh * elecCost;

            // Petrol calculations
            const petrolCo2 = (km / petrolEff) * 2.31;
            const petrolCost = (km / petrolEff) * FUEL_PRICES[region].petrol;

            // Diesel calculations
            const dieselCo2 = (km / dieselEff) * 2.64;
            const dieselCost = (km / dieselEff) * FUEL_PRICES[region].diesel;

            // Environmental impact
            const avgCo2Reduction = ((petrolCo2 - evCo2) + (dieselCo2 - evCo2)) / 2;
            const trees = Math.round(avgCo2Reduction / 20);

            // Update display
            document.getElementById('evOutput').innerHTML = `
                <p>${evKwh.toFixed(1)} kWh/mo</p>
                <p>â‚¹${evCost.toFixed(2)}/mo</p>
                <p>${evCo2.toFixed(1)} kg COâ‚‚</p>
            `;

            document.getElementById('petrolOutput').innerHTML = `
                <p>${(km/petrolEff).toFixed(1)} liters/mo</p>
                <p>â‚¹${petrolCost.toFixed(2)}/mo</p>
                <p>${petrolCo2.toFixed(1)} kg COâ‚‚</p>
            `;

            document.getElementById('dieselOutput').innerHTML = `
                <p>${(km/dieselEff).toFixed(1)} liters/mo</p>
                <p>â‚¹${dieselCost.toFixed(2)}/mo</p>
                <p>${dieselCo2.toFixed(1)} kg COâ‚‚</p>
            `;

            document.getElementById('treeImpact').innerHTML = `
                <h3>ðŸŒ³ Environmental Impact</h3>
                <p>Equivalent to planting ${trees} trees annually</p>
                <small>(1 tree offsets ~20kg COâ‚‚/year)</small>
            `;

            document.getElementById('results').style.display = 'block';
        }
    </script>
</body>
</html>
