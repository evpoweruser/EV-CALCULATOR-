<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>EV Impact Calculator</title>
    <style>
        /* Modern Color Scheme */
        :root {
            --primary: #2ecc71;
            --secondary: #3498db;
            --background: #f8f9fa;
            --text: #2c3e50;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 2rem auto;
            padding: 0 1rem;
            background-color: var(--background);
            color: var(--text);
        }

        .calculator {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .input-group {
            margin: 1.5rem 0;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text);
        }

        input, select {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        input:focus, select:focus {
            border-color: var(--primary);
            outline: none;
        }

        button {
            background: var(--primary);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            width: 100%;
            transition: transform 0.1s ease;
        }

        button:active {
            transform: scale(0.98);
        }

        .result-card {
            margin-top: 2rem;
            padding: 1.5rem;
            background: var(--background);
            border-radius: 8px;
        }

        .badge {
            display: inline-block;
            padding: 0.3rem 0.6rem;
            border-radius: 4px;
            font-weight: 500;
        }

        .eco-impact {
            background: #e8f5e9;
            color: #2ecc71;
            margin: 1rem 0;
            padding: 1rem;
            border-radius: 8px;
        }

        .comparison {
            display: grid;
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .energy-mix {
            display: flex;
            gap: 1rem;
            margin: 1rem 0;
            padding: 1rem;
            background: #f0f4f8;
            border-radius: 8px;
        }

        .mix-item {
            text-align: center;
            flex: 1;
        }
    </style>
</head>
<body>
    <div class="calculator">
        <h1>ðŸš— EV Impact Calculator</h1>
        <p class="subtitle">Compare environmental and cost impacts of electric vehicles</p>

        <div class="input-group">
            <label for="kmInput">Monthly Driving Distance</label>
            <input type="number" id="kmInput" placeholder="Enter kilometers" value="500" min="1">
            <small>Typical monthly driving distance in kilometers</small>
        </div>

        <div class="input-group">
            <label for="countrySelect">Region</label>
            <select id="countrySelect">
                <option value="global">Global Average</option>
                <option value="TN">Tamil Nadu</option>
                <option value="IN">India</option>
                <option value="US">United States</option>
                <option value="DE">Germany</option>
            </select>
        </div>

        <div class="input-group">
            <label for="evEfficiency">EV Efficiency</label>
            <input type="number" id="evEfficiency" 
                   value="150" min="50" max="300" step="10">
            <small>Energy consumption in Watt-hours per kilometer (lower is better)</small>
        </div>

        <button onclick="calculate()">Calculate Impact</button>

        <div id="results" style="display: none;">
            <!-- Energy Mix Visualization -->
            <div class="energy-mix" id="energyMix"></div>

            <!-- Main Results -->
            <div class="result-card">
                <h2>ðŸŒ± Your EV Impact</h2>
                <div class="comparison">
                    <div class="eco-impact">
                        <div>COâ‚‚ Reduction Equivalent</div>
                        <div class="badge" id="treeImpact"></div>
                    </div>
                    
                    <div>
                        <h3>ðŸ”Œ EV Consumption</h3>
                        <p id="evOutput"></p>
                    </div>
                </div>

                <!-- Cost Comparison -->
                <div class="comparison">
                    <div>
                        <h3>â›½ Diesel Vehicle</h3>
                        <p id="dieselOutput"></p>
                    </div>
                    
                    <div>
                        <h3>â›½ Petrol Vehicle</h3>
                        <p id="petrolOutput"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Energy Data (2023 estimates)
        const ENERGY_MIX = {
            'global': { fossil: 60, renewable: 30, nuclear: 10 },
            'TN': { fossil: 40, renewable: 50, nuclear: 10, color: '#f1c40f' },
            'IN': { fossil: 75, renewable: 23, nuclear: 2, color: '#FF9933' },
            'US': { fossil: 60, renewable: 21, nuclear: 19, color: '#3C3B6E' },
            'DE': { fossil: 44, renewable: 44, nuclear: 12, color: '#000000' }
        };

        const PRICES = {
            'global': { electricity: 0.12, diesel: 1.5, petrol: 1.6, currency: '$' },
            'TN': { electricity: 6, diesel: 90, petrol: 100, currency: 'â‚¹' },
            'IN': { electricity: 8, diesel: 95, petrol: 105, currency: 'â‚¹' },
            'US': { electricity: 0.15, diesel: 1.2, petrol: 1.3, currency: '$' },
            'DE': { electricity: 0.35, diesel: 1.8, petrol: 1.9, currency: 'â‚¬' }
        };

        // Environmental Constants
        const CO2_FACTORS = {
            fossil: 0.475,    // kg COâ‚‚/kWh
            renewable: 0.05   // kg COâ‚‚/kWh
        };

        const VEHICLE_EFFICIENCY = {
            diesel: 14,  // km/l
            petrol: 12   // km/l
        };

        function calculate() {
            // Get user inputs
            const km = parseFloat(document.getElementById('kmInput').value);
            const region = document.getElementById('countrySelect').value;
            const whPerKm = parseFloat(document.getElementById('evEfficiency').value);
            
            // Energy calculations
            const kwhPerKm = whPerKm / 1000;
            const monthlyKwh = km * kwhPerKm;
            
            // Get regional data
            const mix = ENERGY_MIX[region];
            const prices = PRICES[region];
            
            // COâ‚‚ Calculations
            const co2PerKwh = (mix.fossil * CO2_FACTORS.fossil + mix.renewable * CO2_FACTORS.renewable) / 100;
            const evCo2 = monthlyKwh * co2PerKwh;
            
            // ICE Calculations
            const dieselCo2 = (km / VEHICLE_EFFICIENCY.diesel) * 2.64;
            const petrolCo2 = (km / VEHICLE_EFFICIENCY.petrol) * 2.31;
            
            // Cost Calculations
            const evCost = monthlyKwh * prices.electricity;
            const dieselCost = (km / VEHICLE_EFFICIENCY.diesel) * prices.diesel;
            const petrolCost = (km / VEHICLE_EFFICIENCY.petrol) * prices.petrol;

            // Update Display
            updateEnergyMix(mix);
            updateResults({
                ev: { co2: evCo2, cost: evCost, kwh: monthlyKwh },
                diesel: { co2: dieselCo2, cost: dieselCost },
                petrol: { co2: petrolCo2, cost: petrolCost },
                prices,
                region
            });
            
            document.getElementById('results').style.display = 'block';
        }

        function updateEnergyMix(mix) {
            const container = document.getElementById('energyMix');
            container.innerHTML = `
                <div class="mix-item" style="color: ${mix.color || '#27ae60'}">
                    <h3>âš¡ Energy Mix</h3>
                    <div>${mix.renewable}% Renewable</div>
                    <div>${mix.fossil}% Fossil</div>
                    ${mix.nuclear ? `<div>${mix.nuclear}% Nuclear</div>` : ''}
                </div>
            `;
        }

        function updateResults({ ev, diesel, petrol, prices, region }) {
            // EV Output
            document.getElementById('evOutput').innerHTML = `
                ${ev.kwh.toFixed(1)} kWh/mo<br>
                ${ev.co2.toFixed(1)} kg COâ‚‚<br>
                Cost: ${prices.currency}${ev.cost.toFixed(2)}
            `;

            // Comparisons
            document.getElementById('dieselOutput').innerHTML = `
                ${diesel.co2.toFixed(1)} kg COâ‚‚<br>
                Cost: ${prices.currency}${diesel.cost.toFixed(2)}<br>
                <span style="color: var(--primary)">
                    Save ${prices.currency}${(diesel.cost - ev.cost).toFixed(2)}
                </span>
            `;

            document.getElementById('petrolOutput').innerHTML = `
                ${petrol.co2.toFixed(1)} kg COâ‚‚<br>
                Cost: ${prices.currency}${petrol.cost.toFixed(2)}<br>
                <span style="color: var(--primary)">
                    Save ${prices.currency}${(petrol.cost - ev.cost).toFixed(2)}
                </span>
            `;

            // Tree Impact
            const avgReduction = ((diesel.co2 - ev.co2) + (petrol.co2 - ev.co2)) / 2;
            const trees = Math.round(avgReduction / 20); // 20kg COâ‚‚/tree/year
            document.getElementById('treeImpact').innerHTML = `
                Like planting ${trees} trees ðŸŒ³<br>
                <small>annually to offset emissions</small>
            `;
        }
    </script>
</body>
</html>
